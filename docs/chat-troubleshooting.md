# 채팅 기능 문제 해결 가이드

## 채팅이 표시되지 않는 경우

### 1단계: 데이터베이스 마이그레이션 확인

채팅 기능을 사용하려면 먼저 데이터베이스에 `ChatRoom`과 `Message` 테이블이 생성되어 있어야 합니다.

```bash
cd backend
npx prisma migrate dev --name add_chat_models
npx prisma generate
```

### 2단계: 백엔드 서버 재시작

마이그레이션 후 백엔드 서버를 재시작하세요.

```bash
# PM2를 사용하는 경우
pm2 restart backend

# 또는 직접 실행하는 경우
cd backend
node server.js
```

### 3단계: 브라우저 콘솔 확인

프론트엔드에서 채팅 페이지를 열고 브라우저 개발자 도구(F12)의 콘솔 탭에서 에러 메시지를 확인하세요.

### 4단계: 네트워크 탭 확인

브라우저 개발자 도구의 네트워크 탭에서:
- `/api/chat/messages` 요청이 성공했는지 확인
- 응답 상태 코드 확인 (200이어야 함)
- 응답 본문 확인

### 5단계: 백엔드 로그 확인

백엔드 서버 콘솔에서 에러 메시지를 확인하세요.

## 일반적인 문제

### 문제 1: "Prisma Client가 업데이트되지 않음"
**해결**: `npx prisma generate` 실행

### 문제 2: "테이블이 존재하지 않음"
**해결**: 마이그레이션 실행 (`npx prisma migrate dev`)

### 문제 3: "인증 토큰 오류"
**해결**: 로그아웃 후 다시 로그인

### 문제 4: "팀에 속해있지 않음"
**해결**: 팀에 가입되어 있는지 확인

## 테스트 방법

1. 채팅 페이지 접속
2. 메시지 입력 후 전송
3. 전송한 메시지가 화면에 표시되는지 확인
4. 다른 사용자로 로그인하여 메시지가 표시되는지 확인
